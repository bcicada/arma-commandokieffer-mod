class CfgSkeletons
{
	class ck_thompson
	{
		pivotsModel="";
		isDiscrete = 0;
		skeletonInherit = "";
		skeletonBones[] =
		{
			"trigger",		"",
			"bolt",			"",
			"magazine",		"",
			"bullets",		"",
			"safety",		"",
			"muzzleFlash",	"",
			"ForeSight",	"",
			"BackSight",	"",
			"frontswivel",	"",
			"rearswivel",	"",
			"fireselector",	""
		};
	};
	class ck_thompson_m1928: ck_thompson{};
};
class CfgModels
{
	class ck_thompson
	{
		skeletonName = "ck_thompson";
		sectionsInherit = "";
		sections[] = {"muzzleFlash"};
		class Animations
		{
			class trigger
			{
				type = "rotation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "trigger";
				axis = "trigger_axis";
				minValue = 0;
				maxValue = 0.3;
				angle0 = "0";
				angle1 = "rad -15";
			};
			
			class bolt
			{
				type = "translation";
				source = "reload";
				sourceAddress = "clamp";
				selection = "bolt";
				axis = "bolt_axis";
				minValue = 0.3;
				maxValue = 1;
				offset0 = 1;
				offset1 = 0;
			};
			/*
			class bolt_empty: bolt
			{
				source = "isEmptyNoReload";
				minValue = 0;
				maxValue = 1;
				offset0 = 0;
				offset1 = 1;
			};
			class bolt_empty_2: bolt_empty
			{
				axis = "bolt_vaxis";
				minValue = 0.8;
				offset0 = 0;
				offset1 = 0.5;
			};
			class bolt_reload_move_1: bolt_empty
			{
				source="reloadMagazine";
				minValue=0;
				maxValue=0.00001;
			};
			class bolt_reload_move_2: bolt_reload_move_1
			{
				axis = "bolt_vaxis";
				minValue=0.00001;
				maxValue=0.00002;
				offset0 = 0;
				offset1 = 0.5;
			};
			class bolt_reload_move_3: bolt_reload_move_2
			{
				source="reloadMagazine";
				minValue=0.83;
				maxValue=0.85;
				offset1 = -0.5;
			};
			class bolt_reload_move_4: bolt_reload_move_1
			{
				source="reloadMagazine";
				minValue=0.84;
				maxValue=0.93;
				offset1 = 0.3;
			};
			class bolt_reload_move_5: bolt_reload_move_1
			{
				source="reloadMagazine";
				minValue=0.97;
				maxValue=0.999999;
				offset1 = -0.7;
			};
			*/
			class magazine_hide
			{
				type="hide";
				source="reloadMagazine";
				selection="magazine";
				minValue=0.000000;
				maxValue=1.00000;
				hideValue=0.188;
				unhideValue = 0.550;
			};
			class bullets_hide_reloadmag: magazine_hide
			{
				selection = "bullets";
				hideValue = 1;
				unhideValue = 0;
			};
			class bullets_hide_empty: bullets_hide_reloadmag
			{
				source = "isEmptyNoReload";
			};
			class no_magazine
			{
				type="hide";
				source="hasMagazine";
				selection="magazine";
				minValue=0.000000;
				maxValue=1.00000;
				hideValue=0.5;
				unhideValue = -1.0;
			};
			class magazine_reload_move_1
			{
				type = "translation";
				source = "reloadMagazine";
				selection = "magazine";
				axis = "magazine_axis";
				minValue = 0.145;
				maxValue = 0.170;
				offset0 = 0.0;
				offset1 = 0.5;
			};
			class magazine_reload_move_2: magazine_reload_move_1
			{
				minValue = 0.573;
				maxValue = 0.602;
				offset0 = 0.0;
				offset1 = -0.5;
			};

			class muzzleFlashROT
			{
				type="rotationX";
				source="ammoRandom";
				sourceAddress="loop";
				selection="muzzleFlash";
				axis="";
				centerFirstVertex=true;
				minValue=0;
				maxValue=4;               //rotation angle will be 360/4 = 90 degrees
				angle0="rad 0";
				angle1="rad 360";
			};
			class frontswivel_rot_1
			{
				type="rotation";
				source="reload";
				sourceAddress="clamp";
				selection="frontswivel";
				axis="frontswivel_axis";
				minValue=0;
				maxValue=0.5;
				angle0="rad 0";
				angle1="rad -60";
			};
			class frontswivel_rot_2: frontswivel_rot_1
			{
				minValue=0.5;
				maxValue=1;
				angle0="rad -60";
				angle1="rad 60";				
			};
			class rearswivel_rot_1: frontswivel_rot_1
			{
				selection="rearswivel";
				axis="rearswivel_axis";
				minValue=0;
				maxValue=0.5;
				angle0="rad 0";
				angle1="rad -60";
			};
			class rearswivel_rot_2: rearswivel_rot_1
			{
				minValue=0.5;
				maxValue=1;
				angle0="rad -60";
				angle1="rad 60";				
			};
			/*
			class safety_mode_rot
			{
				type			= "rotation";
				source			= "weaponMode";
				selection		= "safety";
				axis			= "safety_axis";
				memory			= 1;
				minValue		= 0;
				maxValue		= 0;
				angle0			= "rad 180";
				angle1			= "rad 0";
			};
			*/
			class fireselector_mode_rot
			{
				type			= "rotation";
				source			= "weaponMode";
				selection		= "fireselector";
				axis			= "fireselector_axis";
				memory			= 1;
				minValue		= 0;
				maxValue		= 1;
				angle0			= "rad 180";
				angle1			= "rad 0";
			};
		};
	};
	class ck_thompson_m1928: ck_thompson{};
};